(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t),a.d(t,"NUM_LOOPS",function(){return r}),a.d(t,"Objectify",function(){return c}),a.d(t,"deepCopy",function(){return l}),a.d(t,"buildUnweightedAdjacency",function(){return i}),a.d(t,"getNums",function(){return s}),a.d(t,"setupInfluenceMap",function(){return p}),a.d(t,"setupTotalInfluenceMap",function(){return u}),a.d(t,"setupD3",function(){return m}),a.d(t,"setupD3HighLights",function(){return d}),a.d(t,"getComplexity",function(){return f}),a.d(t,"getFrequency",function(){return g}),a.d(t,"calculateConnectedPercentage",function(){return h});var n=a(25),o=a(72).Colors,r=5;function c(e){for(var t=[],a=0;a<e.length;a++){for(var n=[],o=0;o<e[0].length;o++)n.push({data:parseInt(e[a][o]),x:a,y:o});t.push(n)}return t}function l(e){for(var t=[],a=0;a<e.length;a++){for(var n=[],o=0;o<e[0].length;o++)n[o]=e[a][o];t.push(n)}return t}function i(e){for(var t=[],a=0;a<e.length;a++){for(var n=[],o=0;o<e[0].length;o++)n[o]=e[a][o]>0?1:e[a][o]<0?-1:0;t.push(n)}return t}function s(e){for(var t=[],a=0;a<e.length;a++){for(var n=[],o=0;o<e[0].length;o++)n.push(parseInt(e[a][o].data));t.push(n)}return t}function p(e,t,a,n){for(var o=[],r=0;r<e.length;r++){var c=[];c.push({name:e[r],inf:t.get(e[r]),dep:a.get(e[r]),color:n}),o.push(c)}return o}function u(e,t,a,n,r){for(var c=[],l=0;l<e.length;l++){var i=[];i.push({name:e[l],inf:t.get(e[l]),dep:a.get(e[l]),color:o.PRIMARY}),i.push({name:"",inf:n.get(e[l]),dep:r.get(e[l]),color:o.SECONDARY}),c.push(i)}return c}function m(e,t,a){var n=e.slice();n.length=n.length>r?r:n.length;for(var c=[],l=[],i=[],s=0;s<n.length;s++)n[s].loop.forEach(function(e){c.includes(e)||c.push(e)});for(var p=0;p<c.length;p++)l.push({id:c[p],name:c[p],value:1});for(var u=0,m=0,d=0;d<=n.length-1;d++)for(var f=n[d].loop,g=0;g<f.length;g++){var h=(g+1)%f.length,b=f[g],E=f[h],v=a[t.indexOf(b)][t.indexOf(E)],y=v<0?o.RED:o.BLUE;Math.abs(v)>u&&(u=v),Math.abs(v)<m&&(m=v),0!==v&&i.push({source:f[g],target:f[h],value:v,color:y,sign:v})}return i.forEach(function(e){return e.value=(Math.abs(e.value)-m)/(.25*(u-m))+1}),{nodes:l,links:i}}function d(e,t){var a=e.slice();a.length=a.length>r?r:a.length;for(var n=new Set,o=new Set,c=a[t].loop,l=0;l<c.length;l++){var i=(l+1)%c.length,s=c[l],p=c[i];n.add(s),o.add(s+p)}return{nodes:n,links:o}}function f(e,t,a){for(var n=1,o=(t>e?e:t)-2;o>=0;o--)n*=(e-o)*a;return parseInt(n)}function g(e){var t=new Map;return e.forEach(function(e){e.loop.forEach(function(e){t.has(e)?t.set(e,t.get(e)+1):t.set(e,1)})}),new Map(Object(n.a)(t.entries()).sort(function(e,t){return t[1]-e[1]}))}function h(e){var t,a=e.length;return(t=[]).concat.apply(t,Object(n.a)(e)).filter(function(e){return 0!==e}).length/(a*a-a)}},187:function(e,t,a){},231:function(e,t,a){e.exports=a(476)},386:function(e,t){},476:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(34),c=a.n(r),l=a(8),i=a(33),s=a.n(i),p=a(94),u=a(202),m=a.n(u),d=a(517),f=a(523),g=a(519),h=a(198),b=(a(115),a(7)),E=a(20),v=a.n(E),y=a(138),k=y.deepCopy,L=y.buildUnweightedAdjacency,j=y.calculateConnectedPercentage,N={projectName:void 0,projectVersion:1.1,factorNames:void 0,editArrayObj:void 0,originalMatrix:void 0,graph:{unweightedAdjacency:void 0,percentageConnected:void 0},direct:{matrix:void 0,influence:void 0,dependence:void 0,eigenScores:void 0,rankMap:void 0},indirect:{matrix:void 0,influence:void 0,dependence:void 0,eigenScores:void 0,indirectN:void 0},feedbackLoops:{options:{loopLength:void 0,factor:void 0,weightAlgorithm:void 0,loopCount:void 0,loopWeight:void 0,isAnalyzing:void 0,currentLoop:void 0},foundLoops:[]}};function x(e){var t=e.factorNames.map(function(e){return e.longFactorName}),a=L(e.direct.matrix),n=Object(E.influence)(e.direct.matrix,t),o=Object(E.dependence)(e.direct.matrix,t),r=Object(E.calculateCentralityVectors)(e.direct.matrix),c=O(e.factorNames,n,o,r),l=Object(E.iterate)(e.direct.matrix,e.indirect.indirectN),i=Object(E.influence)(l,t),s=Object(E.dependence)(l,t),p=Object(E.calculateCentralityVectors)(l),u=O(e.factorNames,i,s,p);return{projectName:e.projectName,factorNames:e.factorNames,editArrayObj:k(e.direct.matrix),originalMatrix:e.originalMatrix,graph:{unweightedAdjacency:a,percentageConnected:j(a)},direct:{matrix:e.direct.matrix,influence:n,dependence:o,eigenScores:r,rankMap:c},indirect:{matrix:l,influence:i,dependence:s,eigenScores:p,rankMap:u,indirectN:e.indirect.indirectN},feedbackLoops:{options:{loopLength:e.feedbackLoops.options.loopLength,factor:e.feedbackLoops.options.factor,weightAlgorithm:e.feedbackLoops.options.weightAlgorithm,loopCount:e.feedbackLoops.options.loopCount,isAnalyzing:!1,loopWeight:e.feedbackLoops.options.loopWeight,currentLoop:e.feedbackLoops.options.currentLoop},foundLoops:e.feedbackLoops.foundLoops}}}function C(e){var t=JSON.parse(Object(E.loadArray)(e)),a=function(e){if((e=e.trim()).length<3)return e.toUpperCase();var t=Array.prototype.filter.call(e,function(e){return" "===e||function(e){return e.toLowerCase()!==e.toUpperCase()}(e)}).join("").split(" ").filter(function(e){return""!==e&&e.length>3});return 1===t.length?t[0].substring(0,3).toUpperCase():2===t.length?t[0].substring(0,2).toUpperCase()+t[1].substring(0,1).toUpperCase():t[0].substring(0,1).toUpperCase()+t[1].substring(0,1).toUpperCase()+t[2].substring(0,1).toUpperCase()},n=function(e){var t=new Map;return e.map(function(e){t.has(e.shortFactorName)?t.set(e.shortFactorName,t.get(e.shortFactorName)+1):t.set(e.shortFactorName,1)}),t};var o=t.factors.map(function(e){return e.substring(0,3).toUpperCase()}).map(function(e,n){return{longFactorName:o=t.factors[n],shortFactorName:a(o)};var o});!function(e){var t=n(e);Array.from(t).filter(function(e){var t=Object(l.a)(e,2);return t[0],t[1]>1}).map(function(e){var t=Object(l.a)(e,2),a=t[0];return t[1],a}).forEach(function(t){var a=1;e.filter(function(e){return e.shortFactorName===t}).forEach(function(e){return e.shortFactorName=e.shortFactorName+a++})})}(o);var r=L(t.array),c=o.map(function(e){return e.longFactorName}),i=Object(E.influence)(t.array,c),s=Object(E.dependence)(t.array,c),p=Object(E.calculateCentralityVectors)(t.array),u=O(o,i,s,p);return{projectName:"defualt",factorNames:o,editArrayObj:k(t.array),originalMatrix:k(t.array),graph:{unweightedAdjacency:r,percentageConnected:j(r)},direct:{matrix:t.array,influence:i,dependence:s,eigenScores:p,rankMap:u},indirect:{matrix:t.array,influence:i,dependence:s,eigenScores:p,rankMap:u,indirectN:0},feedbackLoops:{options:{loopLength:2,factor:o[0].shortFactorName,weightAlgorithm:"Average Strength",loopCount:10,isAnalyzing:!1,loopWeight:"Direct Matrix",currentLoop:void 0},foundLoops:[]}}}function w(e){return function(t){return Object(b.a)({},t,{feedbackLoops:{options:{loopLength:t.feedbackLoops.options.loopLength,factor:t.feedbackLoops.options.factor,weightAlgorithm:t.feedbackLoops.options.weightAlgorithm,loopCount:t.feedbackLoops.options.loopCount,isAnalyzing:t.feedbackLoops.options.isAnalyzing,loopWeight:t.feedbackLoops.options.loopWeight,currentLoop:e},foundLoops:t.feedbackLoops.foundLoops}})}}function O(e,t,a,n){var o=e.map(function(e,t){return{name:e.shortFactorName,score:n.pageRankCentrality[t]}}).sort(function(e,t){return t.score-e.score}),r=e.map(function(e,t){return{name:e.shortFactorName,score:n.eigenvectorCentrality[t]}}).sort(function(e,t){return t.score-e.score});return new Map(e.map(function(e,n){var c={influence:Array.from(t.keys()).indexOf(e.longFactorName)+1,dependence:Array.from(a.keys()).indexOf(e.longFactorName)+1,rightEigen:r.findIndex(function(t){return t.name===e.shortFactorName})+1,leftEigen:o.findIndex(function(t){return t.name===e.shortFactorName})+1};return[e.shortFactorName,c]}))}var F=function(e){var t=function(){var t=Object(p.a)(s.a.mark(function t(a){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),a.preventDefault(),(n=new FileReader).onload=function(){var t=Object(p.a)(s.a.mark(function t(a){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"csv"===(n=document.getElementById("fileInput2").files.item(0).name.split("."))[n.length-1]&&(e.setProject(C(a.target.result)),e.setLoaded(!0),e.setNav());case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n.readAsText(a.target.files[0]);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Enter a file"),o.a.createElement("input",{type:"file",id:"fileInput2",onChange:function(e){return t(e)},accept:".csv, .pmf"}))},A=a(25),M=a(522),S=a(478);var R=function(e){return o.a.createElement(M.a,{placement:e.placement,key:"ot-th-".concat(e.placement,"-").concat(e.shortFactorName),overlay:o.a.createElement(S.a,{id:"popover-basic",key:"po-th-".concat(e.placement,"-").concat(e.shortFactorName)},o.a.createElement(S.a.Header,{as:"h3",className:"bg-".concat(e.colorClass," text-white"),key:"po-hd-th-".concat(e.placement,"-").concat(e.shortFactorName)},o.a.createElement("i",{className:"bi bi-hammer",style:{paddingRight:"1em"}}),e.longFactorName),o.a.createElement(S.a.Body,{className:"text-".concat(e.colorClass),key:"po-bd-th-".concat(e.placement,"-").concat(e.shortFactorName)},o.a.createElement("h3",null,e.longFactorName," (",e.shortFactorName,")"),o.a.createElement("hr",null),o.a.createElement("i",{className:"bi bi-layout-text-sidebar",style:{paddingRight:".5em"}}),"Right Eigenvector: ",e.info.rightEigen," out of ",e.factorCount,o.a.createElement("br",null),o.a.createElement("i",{className:"bi bi-layout-text-sidebar-reverse",style:{paddingRight:".5em"}}),"Left Eigenvector: ",e.info.leftEigen," out of ",e.factorCount,o.a.createElement("hr",null),o.a.createElement("i",{className:"bi bi-bar-chart-steps",style:{paddingRight:".5em"}}),"Influence Rank: ",e.info.influence," out of ",e.factorCount,o.a.createElement("br",null),o.a.createElement("i",{className:"bi bi-bar-chart-line-fill",style:{paddingRight:".5em"}}),"Dependence Rank: ",e.info.dependence,"  out of ",e.factorCount))},e.element)},I=a(72),W=I.calculateGradient,z=I.findMaxMin,P=I.hslToString,D=I.getComplement;function T(e){var t={background:e.data>=0?P(e.color):W(e.color),color:P(D(e.color))};return e.isDiag?o.a.createElement("td",{style:{background:"black",color:"white"},className:"lines",key:"td:"+e.start.shortFactorName+" "+e.end.shortFactorName},Math.abs(e.data)):o.a.createElement(M.a,{placement:e.isTop?"bottom":"top",key:"ot-cell: ".concat(e.start.shortFactorName," + ").concat(e.end.shortFactorName),overlay:o.a.createElement(S.a,{id:"popover-basic"},o.a.createElement(S.a.Header,{style:t,as:"h3"},"".concat(e.start.shortFactorName," \u2192 ").concat(e.end.shortFactorName)),o.a.createElement(S.a.Body,null,"".concat(e.start.shortFactorName,": ").concat(e.start.longFactorName),o.a.createElement("br",null),"".concat(e.end.shortFactorName,": ").concat(e.end.longFactorName),o.a.createElement("br",null),o.a.createElement("span",{style:{fontWeight:"bold"}},"weight: ".concat(e.data))))},o.a.createElement("td",{style:t,className:"lines",key:"td:"+e.start.shortFactorName+" "+e.end.shortFactorName},Math.abs(e.data)))}var B=function(e){var t,a=e.factors.map(function(t){var a=o.a.createElement("th",{style:{paddingLeft:"1em",paddingRight:"1em",border:"1px solid black"},key:"th-bottom-".concat(t.shortFactorName)},t.shortFactorName);return o.a.createElement(R,{placement:"bottom",colorClass:e.heatmap.colorClass,shortFactorName:t.shortFactorName,longFactorName:t.longFactorName,info:e.matrix.rankMap.get(t.shortFactorName),factorCount:e.factors.length,element:a})}),n=0===e.factors.length?o.a.createElement(o.a.Fragment,null):o.a.createElement("td",{key:"empty table cell"}),r=[];if(0===e.matrix.matrix.length)return o.a.createElement("h1",null,"No data!");var c=function(){var c,l=z((c=[]).concat.apply(c,Object(A.a)(e.matrix.matrix)),function(e){return Math.abs(e)});t=o.a.createElement("tr",{key:"tr-top-row"},n,a);for(var i=function(t){var a=o.a.createElement("th",{style:{paddingLeft:"1em",paddingRight:"1em",border:"1px solid black"},key:"th-right-".concat(e.factors[t].shortFactorName)},e.factors[t].shortFactorName);r.push(o.a.createElement("tr",{key:"tr-row:"+t},o.a.createElement(R,{placement:"right",colorClass:e.heatmap.colorClass,shortFactorName:e.factors[t].shortFactorName,longFactorName:e.factors[t].longFactorName,info:e.matrix.rankMap.get(e.factors[t].shortFactorName),factorCount:e.factors.length,element:a}),e.matrix.matrix[t].map(function(a,n){return o.a.createElement(T,{data:a,color:e.heatmap.func(Math.abs(a),l.min,l.max),isDiag:t===n,start:e.factors[t],end:e.factors[n],isTop:t<3,key:"cell: ".concat(t," + ").concat(n)})})))},s=0;s<e.factors.length;s++)i(s);return{v:o.a.createElement("div",null,o.a.createElement("table",{className:"lines"},o.a.createElement("thead",null,t),o.a.createElement("tbody",null,r)))}}();return"object"===typeof c?c.v:void 0};var U=function(e){for(var t=function(t){var a;e.setProject((a=parseInt(t.target.value),function(e){var t=Object(E.iterate)(e.direct.matrix,a),n=e.factorNames.map(function(e){return e.longFactorName}),o=Object(E.influence)(t,n),r=Object(E.dependence)(t,n),c=Object(E.calculateCentralityVectors)(t),l=O(e.factorNames,o,r,c);return Object(b.a)({},e,{indirect:{matrix:t,indirectN:a,influence:o,dependence:r,eigenScores:c,rankMap:l}})}))},a=[],n=0;n<=6;n++)a[n]=o.a.createElement("option",{value:n,key:"option-"+n},n);return o.a.createElement("div",null,o.a.createElement("div",{className:"centered"},o.a.createElement("label",null,"Number of Iterations: "),o.a.createElement("select",{id:"iterator",name:"iterator",defaultValue:e.project.indirect.indirectN,onChange:function(e){return t(e)}},a)),o.a.createElement("br",null),o.a.createElement(B,{matrix:e.project.indirect,factors:e.project.factorNames,heatmap:e.settings.heatmap}))};var K=function(e){return o.a.createElement("div",null,o.a.createElement(B,{matrix:e.project.direct,factors:e.project.factorNames,heatmap:e.settings.heatmap}))},V=a(506);var H=function(e){var t=[];t.push(o.a.createElement("tr",{key:"tr-top-row"},o.a.createElement("td",{key:"td-factors-header",className:"lines"},"Factors"),o.a.createElement(M.a,{placement:"top",key:"ot-left-ev",overlay:o.a.createElement(V.a,{key:"tt-left-ev"},"\ud835\udc32\ud835\udc34=\ud835\udf06\ud835\udc32 , where \ud835\udc32 is left eigenvector")},o.a.createElement("td",{key:"td-left-ev",className:"lines"},"Left Eigenvector")),o.a.createElement(M.a,{placement:"top",key:"ot-right-ev",overlay:o.a.createElement(V.a,{key:"tt-right-ev"},"\ud835\udc34\ud835\udc31=\ud835\udf06\ud835\udc31, where \ud835\udc31 is right eigenvector")},o.a.createElement("td",{key:"td-right-ev",className:"lines"},"Right Eigenvector"))));for(var a=0;a<e.factors.length;a++)t.push(o.a.createElement("tr",{key:"tr-"+a},o.a.createElement(M.a,{placement:"left",key:"ot-factor-name-"+e.factors[a].shortFactorName,overlay:o.a.createElement(V.a,{key:"ot-factor-name-"+e.factors[a].shortFactorName},e.factors[a].longFactorName)},o.a.createElement("td",{className:"lines",key:"td-factor-name-"+e.factors[a].shortFactorName},e.factors[a].shortFactorName)),o.a.createElement("td",{className:"lines",key:"td-factor-left-"+e.factors[a].shortFactorName},e.eigs.pageRankCentrality[a].toFixed(4)),o.a.createElement("td",{className:"lines",key:"td-factor-right-"+e.factors[a].shortFactorName},e.eigs.eigenvectorCentrality[a].toFixed(4))));return o.a.createElement("table",{className:"lines"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"lines",colSpan:"3"},"Centrality Scores : Eigenvalue ",e.eigs.eigenvalue.toFixed(4)))),o.a.createElement("tbody",null,t))};var G=function(e){return o.a.createElement("div",null,o.a.createElement("table",{className:"centered"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(H,{factors:e.project.factorNames,eigs:e.project.direct.eigenScores})),o.a.createElement("td",null,o.a.createElement(H,{factors:e.project.factorNames,eigs:e.project.indirect.eigenScores}))))))};var _=function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Under Construction"),o.a.createElement("h2",null,e.pagename))};var Y=function(e){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Welcome to UWT-SET PFMS!"),o.a.createElement("h2",null,'Click "Project ',o.a.createElement("i",{className:"bi bi-arrow-right-short"})," Load ",o.a.createElement("i",{className:"bi bi-arrow-right-short"}),' From File" to get started!'))},q=a(377);var J=function(e){var t=Array.from(e.inf).map(function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return o.a.createElement("td",{className:"lines",key:"td-inf-"+a},"".concat(a," : ").concat(n))}),a=Array.from(e.dep).map(function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return o.a.createElement("td",{className:"lines",key:"td-dep-"+a},"".concat(a," : ").concat(n))}),n=t.map(function(e,t){return o.a.createElement("tr",{key:"tr-"+t},e,a[t])});return o.a.createElement(q.a,{striped:!0,bordered:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",{key:"tr-headers"},o.a.createElement("th",{key:"th-influence"},"Influence"),o.a.createElement("th",{key:"th-dependence"},"Dependence"))),o.a.createElement("tbody",null,n))},Q=a(17),X=a(27),Z=a(21),$=a(28),ee=a(479),te=a(322),ae=a(301),ne=a(511),oe=a(512),re=a(196),ce=a(330),le=a(56),ie=a(331),se=a(498),pe=a(72).Colors,ue=function(e){function t(){var e,a;Object(Q.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(X.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(r)))).render=function(){for(var e=[{name:"Direct",color:pe.PRIMARY},{name:"Indirect",color:pe.SECONDARY}],t=[],n=0;n<a.props.data.length;n++)t.push(o.a.createElement(ee.a,{data:a.props.data[n],line:{stroke:"black",strokeWidth:2}},a.props.data[n].map(function(e,t){return o.a.createElement(te.a,{fill:e.color})}),o.a.createElement(ae.a,{dataKey:"name",position:"bottom",fill:"black"})));return o.a.createElement("div",{className:"Chart"},o.a.createElement(ne.a,{width:1e3,height:1e3,style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"auto"}},o.a.createElement(oe.a,null),o.a.createElement(re.a,{content:function(t){return o.a.createElement("ul",null,e.map(function(e){return o.a.createElement("li",{key:"item-".concat(e.name),style:{color:e.color,width:"12.5%",margin:"auto",fontSize:"25px"}},o.a.createElement("span",{style:{fontSize:"18px"}},e.name))}))}}),o.a.createElement(ce.a,{type:"number",dataKey:"dep",name:"dependence",ticks:["0.5"]},o.a.createElement(le.a,{value:"Dependence",offset:0,position:"insideBottom"})),o.a.createElement(ie.a,{type:"number",dataKey:"inf",name:"influence",label:{value:"Influence",angle:-90,position:"insideLeft"},ticks:["0.5"]}),o.a.createElement(se.a,{animationEasing:"ease-out"}),t))},a}return Object($.a)(t,e),t}(o.a.Component),me=a(518),de=(a(187),a(72).Colors),fe=a(138);var ge=function(e){var t,a=Object(n.useState)(1),r=Object(l.a)(a,2),c=r[0],i=r[1],s=e.project.factorNames.map(function(e){return e.longFactorName});return 1===c?t=fe.setupInfluenceMap(s,v.a.normalize(e.project.direct.influence),v.a.normalize(e.project.direct.dependence),de.PRIMARY):2===c?t=fe.setupInfluenceMap(s,v.a.normalize(e.project.indirect.influence),v.a.normalize(e.project.indirect.dependence),de.SECONDARY):3===c?t=fe.setupTotalInfluenceMap(s,v.a.normalize(e.project.direct.influence),v.a.normalize(e.project.direct.dependence),v.a.normalize(e.project.indirect.influence),v.a.normalize(e.project.indirect.dependence)):console.log(" How TF am I here...? Empty!"),o.a.createElement("div",{className:"container"},o.a.createElement("table",{className:"centered"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(J,{inf:e.project.direct.influence,dep:e.project.direct.dependence})),o.a.createElement("td",null,o.a.createElement(J,{inf:e.project.indirect.influence,dep:e.project.indirect.dependence}))))),o.a.createElement("br",null),o.a.createElement(me.a.Select,{"aria-label":"Default select example",onChange:function(e){i(parseInt(e.target.value))}},o.a.createElement("option",{value:"1"},"Direct"),o.a.createElement("option",{value:"2"},"Indirect"),o.a.createElement("option",{value:"3"},"Both")),o.a.createElement("br",null),o.a.createElement(ue,{data:t}))},he=a(72),be=a(334),Ee=a(513),ve=a(72),ye=ve.hslToString,ke=ve.getComplement;function Le(e){for(var t=[],a=61;a>0;a-=10){var n=e.heatmap.func(a,1,61),r={background:ye(n),color:ye(ke(n)),width:"5em"};t.push(o.a.createElement("td",{key:"col:".concat(a),style:r},e.heatmap.name))}return o.a.createElement("table",{className:"lines",style:{marginTop:"1em"}},o.a.createElement("tbody",null,o.a.createElement("tr",null,t)))}var je=function(e){var t=he.heatmaps.map(function(t){return o.a.createElement(be.a,{key:t.name,id:t.name,value:t.name,variant:"outline-primary",onClick:function(a){return function(t){var a=he.heatmaps.filter(function(e){return e.name===t})[0];e.setSettings(function(e){return Object(b.a)({},e,{heatmap:a})})}(t.name)}},t.name)});return o.a.createElement("div",{className:"container"},o.a.createElement("br",null),o.a.createElement("label",null,"Select the heatmap color: ")," ",o.a.createElement(Ee.a,{type:"radio",name:"options",defaultValue:e.settings.heatmap.name},t),o.a.createElement("br",null),o.a.createElement(Le,{heatmap:e.settings.heatmap}))};var Ne=function(e){return o.a.createElement("div",null,o.a.createElement(J,{inf:e.project.direct.influence,dep:e.project.direct.dependence}),o.a.createElement(H,{factors:e.project.factorNames,eigs:e.project.direct.eigenScores}),o.a.createElement(B,{project:e.project,array:e.project.direct.matrix,factors:e.project.factorNames,heatmap:e.settings.heatmap}),o.a.createElement(B,{project:e.project,array:e.project.indirect.matrix,factors:e.project.factorNames,heatmap:e.settings.heatmap}))},xe=a(72),Ce=xe.calculateGradient,we=xe.findMaxMin,Oe=xe.hslToString,Fe=xe.getComplement;function Ae(e){var t={background:e.data>=0?Oe(e.color):Ce(e.color),color:Oe(Fe(e.color))};if(e.x===e.y)return o.a.createElement("td",{style:{background:"black",color:"white"},className:"lines",key:"td-"+e.x+" "+e.y},Math.abs(e.data));for(var a=[],n=-3;n<=3;n++)a[n+3]=o.a.createElement("option",{value:n,key:"td-"+e.x+" "+e.y+"-opt-"+n},n);return o.a.createElement("td",{className:"lines",key:"td-"+e.x+" "+e.y,style:t},o.a.createElement("select",{id:"iterator",name:"iterator",defaultValue:e.data,onChange:e.onChange},a))}var Me=function(e){var t,a={paddingLeft:"1em",paddingRight:"1em",borderLeft:"1px solid grey"},n={paddingLeft:"0.5em",paddingRight:"0.5em",borderTop:"1px solid grey"},r=e.factors.map(function(e){return o.a.createElement(M.a,{placement:"top",key:"ot-"+e.shortFactorName,overlay:o.a.createElement(V.a,{key:"tt-"+e.shortFactorName},e.longFactorName)},o.a.createElement("th",{style:a,key:"th-"+e.shortFactorName},e.shortFactorName))}),c=0===e.factors.length?o.a.createElement(o.a.Fragment,null):o.a.createElement("td",null),l=[];if(0===e.array.length)return o.a.createElement("h1",null,"No data!");var i=function(){var a,i=we((a=[]).concat.apply(a,Object(A.a)(e.array)),function(e){return Math.abs(e)});t=o.a.createElement("tr",{key:"tr-top-row"},c,r);for(var s=function(t){l.push(o.a.createElement("tr",{key:"tr-row:"+t},o.a.createElement(M.a,{placement:"left",key:"ot-row:"+e.factors[t].shortFactorName,overlay:o.a.createElement(V.a,{key:"tt-row:"+e.factors[t].shortFactorName},e.factors[t].longFactorName)},o.a.createElement("th",{style:n,key:"th-row:"+e.factors[t].shortFactorName},e.factors[t].shortFactorName)),e.array[t].map(function(a,n){return o.a.createElement(Ae,{data:a,color:e.heatmap(Math.abs(a),i.min,i.max),x:t,y:n,key:"Cell-"+t+":"+n,onChange:function(a){return function(t,a,n){var o=t.target.value;if(!isNaN(o)&&void 0!==o){for(var r=[],c=0;c<e.array.length;c++)r[c]=e.array[c].slice(0);r[a][n]=parseInt(o),e.setMatrix(r),e.setEdited(!0)}}(a,t,n)}})})))},p=0;p<e.factors.length;p++)s(p);return{v:o.a.createElement("div",null,o.a.createElement("table",{className:"lines"},o.a.createElement("thead",null,t),o.a.createElement("tbody",null,l)))}}();return"object"===typeof i?i.v:void 0},Se=a(188),Re=a(335),Ie=a(138).deepCopy;var We=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(e.project.editArrayObj),s=Object(l.a)(i,2),p=s[0],u=s[1],m=Object(n.useState)([!1,!1,!1]),d=Object(l.a)(m,2),f=d[0],g=d[1],h=Object(n.useState)(!1),v=Object(l.a)(h,2),y=v[0],N=v[1],x=function(){e.setProject(function(e){return function(t){var a=t.factorNames.map(function(e){return e.longFactorName}),n=e,o=Object(E.iterate)(n,t.indirect.indirectN),r=L(n),c=Object(E.influence)(n,a),l=Object(E.dependence)(n,a),i=Object(E.calculateCentralityVectors)(n),s=O(t.factorNames,c,l,i),p=Object(E.influence)(o,a),u=Object(E.dependence)(o,a),m=Object(E.calculateCentralityVectors)(o),d=O(t.factorNames,p,u,m);return Object(b.a)({},t,{editArrayObj:k(n),graph:{unweightedAdjacency:r,percentageConnected:j(r)},direct:{matrix:n,influence:c,dependence:l,eigenScores:i,rankMap:s},indirect:{matrix:o,indirectN:t.indirect.indirectN,influence:p,dependence:u,eigenScores:m,rankMap:d}})}}(p)),c(!1)},C=[1,2,3].map(function(t,a){return o.a.createElement(be.a,{type:"checkbox",checked:f[a],key:t,id:t,value:t,variant:"outline-primary",onChange:function(t){return function(t){var a=Object(A.a)(f);a[t.value-1]=t.checked;for(var n=Ie(e.project.direct.matrix),o=0;o<n.length;o++)for(var r=0;r<n[o].length;r++)n[o][r]=a[Math.abs(n[o][r])-1]?0:n[o][r];c(!0),u(n),g(a)}(t.target)}},t)}),w=["Individual Edit","Batch Edit"].map(function(e){return o.a.createElement(be.a,{key:e,id:e,value:e,variant:"outline-primary",onClick:function(){return N("Batch Edit"===e)}},e)}),F=o.a.createElement(S.a,{id:"popover-basic"},o.a.createElement(S.a.Header,{as:"h3"},"Warning"),o.a.createElement(S.a.Body,null,"Some weird shit going on here...Make sure you understand what these buttons do. TODO: Write actual explanation...")),R=o.a.createElement(S.a,{id:"popover-basic"},o.a.createElement(S.a.Header,{as:"h3"},"Warning"),o.a.createElement(S.a.Body,null,"Some weird shit going on here...Make sure you understand what these buttons do. TODO: Write actual explanation..."));return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"centered"},o.a.createElement(Se.a,{variant:"outline-primary",onClick:x,disabled:!r},"Save")," ",o.a.createElement(M.a,{placement:"bottom",overlay:F},o.a.createElement(Se.a,{variant:"outline-primary",onClick:function(){c(!1),u(e.project.direct.matrix),g([!1,!1,!1])},disabled:!r},"Revert to Last Save"))," ",o.a.createElement(M.a,{placement:"bottom",overlay:R},o.a.createElement(Se.a,{variant:"outline-primary",onClick:function(){c(!1),u(e.project.originalMatrix),g([!1,!1,!1]),x()},disabled:!r},"Revert to Original"))),o.a.createElement("br",null),o.a.createElement("div",{className:"centered"},o.a.createElement(Ee.a,{type:"radio",name:"options",defaultValue:"Individual Edit"},w)),o.a.createElement("br",null),y&&o.a.createElement("div",null,"Remove all:"," ",o.a.createElement(Re.a,{type:"checkbox",name:"options"},C),o.a.createElement("br",null),o.a.createElement("br",null)),y?o.a.createElement(B,{project:e.project,array:p,factors:e.project.factorNames,heatmap:e.settings.heatmap}):o.a.createElement(Me,{array:p,factors:e.project.factorNames,heatmap:e.settings.heatmap.func,setEdited:c,setMatrix:u}))},ze=a(514),Pe=a(337),De=a(515),Te=a(516),Be=a(333);function Ue(e){return o.a.createElement("span",{style:{borderRadius:"25px",color:"white",backgroundColor:"DodgerBlue",padding:"10px",fontFamily:"Sans-Serif",margin:"5px"}},e.name)}var Ke=function(e){var t={fontSize:"x-large",fontWeight:"bold"},a=e.element.signum>0?o.a.createElement("i",{className:"bi bi-arrow-counterclockwise",style:t}):o.a.createElement("i",{className:"bi bi-arrow-clockwise",style:t}),n=e.element.loop.map(function(t,a){var n=o.a.createElement("span",null,o.a.createElement(Ue,{name:t,key:"nd-".concat(e.count,"-").concat(t)}));return o.a.createElement("span",null,o.a.createElement(R,{placement:"bottom",colorClass:"primary",shortFactorName:t,longFactorName:e.nameMap.get(t),info:e.rankMap.get(t),factorCount:e.nameMap.length,element:n}),a<e.element.loop.length-1?o.a.createElement("i",{className:"bi bi-arrow-right-short",style:{fontSize:"x-large"}}):o.a.createElement("i",{className:"bi bi-box-arrow-in-right",style:{fontSize:"x-large"}}))});return o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement("span",{style:{borderRadius:"25px",padding:"10px",fontFamily:"Sans-Serif",margin:"5px"}},"Loop ".concat(e.count+1," - "),a," - ".concat(e.element.strength.toFixed(4))),o.a.createElement("br",null),o.a.createElement("br",null),n),o.a.createElement("hr",null))},Ve=(a(306),a(138)),He=new Map;He.set("Average Strength",v.a.genClsAvgEdgeWeight),He.set("Total Strength",v.a.genClsTotalEdgeWeight),He.set("Centrality via Edge Weight x Left Eigenvector",v.a.genClsAvgEdgeWeightProdPageRank),He.set("Centrality via Edge Weight x Right Eigenvector",v.a.genClsAvgEdgeWeightProdEigen),He.set("Centrality via Right Eigenvector (no Edge Weight)",v.a.genClsAvgVertexEigen);var Ge=function(e){var t={cursor:"pointer"},a=Object(n.useState)(!0),r=Object(l.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(2),p=Object(l.a)(s,2),u=p[0],m=p[1],d=new Map(e.project.factorNames.map(function(e){return[e.shortFactorName,e.longFactorName]}));function f(t){var a;e.setProject((a=t.target.value,function(e){return Object(b.a)({},e,{feedbackLoops:{options:{loopLength:a,factor:e.feedbackLoops.options.factor,weightAlgorithm:e.feedbackLoops.options.weightAlgorithm,loopCount:e.feedbackLoops.options.loopCount,isAnalyzing:e.feedbackLoops.options.isAnalyzing,loopWeight:e.feedbackLoops.options.loopWeight,currentLoop:e.feedbackLoops.options.currentLoop},foundLoops:e.feedbackLoops.foundLoops}})}))}function g(t){var a;e.setProject((a=t.target.value,function(e){return Object(b.a)({},e,{feedbackLoops:{options:{loopLength:e.feedbackLoops.options.loopLength,factor:e.feedbackLoops.options.factor,weightAlgorithm:e.feedbackLoops.options.weightAlgorithm,loopCount:e.feedbackLoops.options.loopCount,isAnalyzing:e.feedbackLoops.options.isAnalyzing,loopWeight:a,currentLoop:e.feedbackLoops.options.currentLoop},foundLoops:e.feedbackLoops.foundLoops}})}))}function h(t){var a;e.setProject((a=t.target.value,function(e){return Object(b.a)({},e,{feedbackLoops:{options:{loopLength:e.feedbackLoops.options.loopLength,factor:e.feedbackLoops.options.factor,weightAlgorithm:e.feedbackLoops.options.weightAlgorithm,loopCount:a,isAnalyzing:e.feedbackLoops.options.isAnalyzing,loopWeight:e.feedbackLoops.options.loopWeight,currentLoop:e.feedbackLoops.options.currentLoop},foundLoops:e.feedbackLoops.foundLoops}})}))}function E(t){var a;e.setProject((a=t.target.value,function(e){return Object(b.a)({},e,{feedbackLoops:{options:{loopLength:e.feedbackLoops.options.loopLength,factor:a,weightAlgorithm:e.feedbackLoops.options.weightAlgorithm,loopCount:e.feedbackLoops.options.loopCount,isAnalyzing:e.feedbackLoops.options.isAnalyzing,loopWeight:e.feedbackLoops.options.loopWeight,currentLoop:e.feedbackLoops.options.currentLoop},foundLoops:e.feedbackLoops.foundLoops}})}))}function v(t){var a;e.setProject((a=t.target.value,function(e){return Object(b.a)({},e,{feedbackLoops:{options:{loopLength:e.feedbackLoops.options.loopLength,factor:e.feedbackLoops.options.factor,weightAlgorithm:a,loopCount:e.feedbackLoops.options.loopCount,isAnalyzing:e.feedbackLoops.options.isAnalyzing,loopWeight:e.feedbackLoops.options.loopWeight,currentLoop:e.feedbackLoops.options.currentLoop},foundLoops:e.feedbackLoops.foundLoops}})}))}function y(t){e.setProject(function(e){return function(t){return Object(b.a)({},t,{feedbackLoops:{options:{loopLength:t.feedbackLoops.options.loopLength,factor:t.feedbackLoops.options.factor,weightAlgorithm:t.feedbackLoops.options.weightAlgorithm,loopCount:t.feedbackLoops.options.loopCount,isAnalyzing:e,loopWeight:t.feedbackLoops.options.loopWeight,currentLoop:t.feedbackLoops.options.currentLoop},foundLoops:t.feedbackLoops.foundLoops}})}}(t))}for(var k=[],L=2;L<=e.project.factorNames.length;L++)k.push(o.a.createElement("option",{value:L,key:"op-loop-length-".concat(L)},L));var j,N,x,C=e.project.factorNames.map(function(e){return o.a.createElement("option",{value:e.shortFactorName,key:"opt-factor-".concat(e.shortFactorName)},e.shortFactorName)}),O=Array.from(He).map(function(e){var t=Object(l.a)(e,2),a=t[0];return t[1],o.a.createElement("option",{value:a,key:"opt-algorithm-".concat(a)},a)}),F=[5,10,25].map(function(e){return o.a.createElement("option",{value:e,key:"opt-loopCount-".concat(e)},e)}),A=["Direct Matrix","Indirect Matrix"].map(function(e){return o.a.createElement("option",{value:e,key:"opt-loopWeights-".concat(e)},e)}),R=[];if(e.project.feedbackLoops.foundLoops.length>0){N=[o.a.createElement(be.a,{type:"radio",key:"Reinforcing",id:"Reinforcing",value:1,variant:"outline-primary",onChange:function(e){m(parseInt(e.target.value))}},o.a.createElement(o.a.Fragment,null,"Reinforcing ",o.a.createElement("i",{className:"bi bi-arrow-counterclockwise"}))),o.a.createElement(be.a,{type:"radio",key:"Both",id:"Both",value:2,variant:"outline-primary",onChange:function(e){m(parseInt(e.target.value))}},o.a.createElement(o.a.Fragment,null,"Both")),o.a.createElement(be.a,{type:"radio",key:"Balancing",id:"Balancing",value:3,variant:"outline-primary",onChange:function(e){m(parseInt(e.target.value))}},o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"bi bi-arrow-clockwise"})," Balancing"))],1===u?R=e.project.feedbackLoops.foundLoops[e.project.feedbackLoops.options.currentLoop].loops.reinforcing:2===u?R=e.project.feedbackLoops.foundLoops[e.project.feedbackLoops.options.currentLoop].loops.both:3===u&&(R=e.project.feedbackLoops.foundLoops[e.project.feedbackLoops.options.currentLoop].loops.balancing);var I="Direct Matrix"===e.project.feedbackLoops.options.loopWeight?e.project.direct.rankMap:e.project.indirect.rankMap;j=R.map(function(e,t){return o.a.createElement(Ke,{count:t,element:e,rankMap:I,nameMap:d,key:"loop-".concat(t)})}),x=o.a.createElement("p",null,e.project.feedbackLoops.foundLoops[e.project.feedbackLoops.options.currentLoop].factor," ","-"," ",e.project.feedbackLoops.foundLoops[e.project.feedbackLoops.options.currentLoop].loopLength," ","-"," ",e.project.feedbackLoops.foundLoops[e.project.feedbackLoops.options.currentLoop].weightAlgorithm," ","-"," ",e.project.feedbackLoops.foundLoops[e.project.feedbackLoops.options.currentLoop].loopWeight)}var W=o.a.createElement(M.a,{trigger:"click",placement:"bottom",overlay:o.a.createElement(S.a,{id:"popover-basic"},o.a.createElement(S.a.Header,{as:"h3",className:"bg-info text-white"},o.a.createElement("i",{className:"bi bi-info-square-fill",style:{paddingRight:"2em"}}),"    Loop Length"),o.a.createElement(S.a.Body,{className:"text-info"},"This setting determines the max number of factors a Loop may contain.",o.a.createElement("br",null),"For large and connected graphs, the number of loops grow exponentially. Limiting the max loop length may result in shorter calculation times."))},o.a.createElement("span",{style:t,className:"text-info"},"maximum",o.a.createElement("sup",null,o.a.createElement("i",{className:"bi bi-info-square"})))),z=o.a.createElement(M.a,{trigger:"click",placement:"top",overlay:o.a.createElement(S.a,{id:"popover-basic"},o.a.createElement(S.a.Header,{as:"h3",className:"bg-info text-white"},o.a.createElement("i",{className:"bi bi-info-square-fill",style:{paddingRight:"2em"}}),"Estimate Information"),o.a.createElement(S.a.Body,{className:"text-info"},"We do our best to estimate how long the calculation will take. CS algorithms speak...blah blah blah",o.a.createElement("br",null),"More to come..."))},o.a.createElement("span",{style:t,className:"text-info"},"estimate",o.a.createElement("sup",null,o.a.createElement("i",{className:"bi bi-info-square"}))));return o.a.createElement("div",{className:"container"},e.project.feedbackLoops.foundLoops.length>0&&o.a.createElement(ze.a,null,o.a.createElement(Se.a,{onClick:function(){return i(!c)},variant:"outline-primary",size:"sm","aria-controls":"example-collapse-text","aria-expanded":c},"Run another analysis"," ",c?o.a.createElement("i",{className:"bi bi-chevron-double-up"}):o.a.createElement("i",{className:"bi bi-chevron-double-down"})),o.a.createElement("br",null)),o.a.createElement(Pe.a,{in:c},o.a.createElement("div",null,o.a.createElement("label",null,"Choose a factor to analyze:")," ",o.a.createElement("select",{id:"factor_to_analyze",name:"factor_to_analyze",defaultValue:e.project.feedbackLoops.options.factor,onChange:function(e){return E(e)}},C)," ",o.a.createElement("i",{className:"bi bi-arrow-right-short",style:{paddingLeft:".5em",paddingRight:".5em"}}),e.project.factorNames.filter(function(t){return t.shortFactorName===e.project.feedbackLoops.options.factor}).map(function(e){return e.longFactorName})[0],o.a.createElement("br",null),o.a.createElement("label",null," Loop ",W," length:")," ",o.a.createElement("select",{id:"loop_length",name:"loop_length",defaultValue:e.project.feedbackLoops.options.loopLength,onChange:function(e){return f(e)}},k),o.a.createElement("br",null),o.a.createElement("label",null,"Number of Loops to return:")," ",o.a.createElement("select",{id:"loop_count",name:"loop_count",defaultValue:e.project.feedbackLoops.options.loopCount,onChange:function(e){return h(e)}},F),o.a.createElement("br",null),o.a.createElement("label",null,"Algorithm Preference:")," ",o.a.createElement("select",{id:"algorithm",name:"algorithm",defaultValue:e.project.feedbackLoops.options.weightAlgorithm,onChange:function(e){return v(e)}},O),o.a.createElement("br",null),o.a.createElement("label",null,"Matrix weights: ")," ",o.a.createElement("select",{id:"weights",name:"weights",defaultValue:e.project.feedbackLoops.options.loopWeight,onChange:function(e){return g(e)}},A),o.a.createElement("br",null),o.a.createElement("label",null,"The ",z," time complexity of analysis is: ",function(){var t=Object(Ve.getComplexity)(e.project.factorNames.length,e.project.feedbackLoops.options.loopLength,e.project.graph.percentageConnected),a=t<1e6?"bg-success text-white":t<1e7?"bg-warning text-dark":"bg-danger text-white",n=t<1e6?"bi bi-check-circle-fill":t<1e7?"bi bi-exclamation-triangle":"bi bi-exclamation-octagon-fill",r={width:t<1e9?"7em":"10em",display:"inline-block",cursor:"pointer"};return o.a.createElement(M.a,{trigger:"click",placement:"bottom",overlay:o.a.createElement(S.a,{id:"popover-basic"},o.a.createElement(S.a.Header,{as:"h3",className:a},o.a.createElement("i",{className:n,style:{paddingRight:"2em"}}),"    Time Complexity"),o.a.createElement(S.a.Body,null,"Wording about how long the user should expect this to take!",o.a.createElement("br",null),"Here are some suggestions for lowering the time complexity:",o.a.createElement("br",null),"* Shorter maximum loop length",o.a.createElement("br",null),"* Remove some of the connectivity from the graph"))},o.a.createElement("span",{className:a,style:r},t.toLocaleString(void 0,{minimumFractionDigits:0})))}())," ",o.a.createElement("br",null),o.a.createElement(Se.a,{id:"feedbackbutton",name:"fbbutton",variant:"outline-primary",size:"sm",disabled:e.project.feedbackLoops.options.isAnalyzing,onClick:function(){return function(){y(!0);var t=e.project.factorNames.map(function(e){return e.shortFactorName}),a={adjacency:e.project.graph.unweightedAdjacency,matrix:"Direct Matrix"===e.project.feedbackLoops.options.loopWeight?e.project.direct.matrix:e.project.indirect.matrix,factorNames:t,factor:e.project.feedbackLoops.options.factor,maxLoopLength:e.project.feedbackLoops.options.loopLength,algorithmName:e.project.feedbackLoops.options.weightAlgorithm,maxLoopCount:e.project.feedbackLoops.options.loopCount};e.requestLoops(a)}()}},"Analyze"," ",e.project.feedbackLoops.options.isAnalyzing&&o.a.createElement(De.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})),o.a.createElement(ze.a,null,o.a.createElement(Te.a,null,o.a.createElement(Be.a,{sm:2}),o.a.createElement(Be.a,{sm:4},o.a.createElement("div",{className:"d-grid gap-2"})),o.a.createElement(Be.a,{sm:2}))))),o.a.createElement("br",null),e.project.feedbackLoops.foundLoops.length>0&&o.a.createElement("div",null,o.a.createElement(Se.a,{style:{marginRight:"1em"},key:"pre",id:"prev",variant:"outline-primary",disabled:0===e.project.feedbackLoops.options.currentLoop,onClick:function(t){e.setProject(w(e.project.feedbackLoops.options.currentLoop-1))}},o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"bi bi-chevron-double-left"})," Previous")),o.a.createElement(Ee.a,{type:"radio",name:"options",defaultValue:2},N),o.a.createElement(Se.a,{style:{marginLeft:"1em"},key:"nxt",id:"next",variant:"outline-primary",disabled:e.project.feedbackLoops.options.currentLoop===e.project.feedbackLoops.foundLoops.length-1,onClick:function(t){e.setProject(w(e.project.feedbackLoops.options.currentLoop+1))}},o.a.createElement(o.a.Fragment,null,"Next ",o.a.createElement("i",{className:"bi bi-chevron-double-right"}))),o.a.createElement("br",null),x,j))};a(493),a(495);var _e=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=N;Object(n.useEffect)(function(){!function(){var e=Object(p.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://cfb3-tcss450-labs-helloworld.herokuapp.com/hello").then(function(e){}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var r=Object(n.useState)(a),c=Object(l.a)(r,2),i=c[0],u=c[1],E=Object(n.useState)(!1),v=Object(l.a)(E,2),y=v[0],k=v[1],L=Object(n.useState)({heatmap:he.heatmaps[0]}),j=Object(l.a)(L,2),w=j[0],O=j[1],A=Object(n.useState)(""),M=Object(l.a)(A,2),S=M[0],R=M[1],I=Object(n.useState)("home"),W=Object(l.a)(I,2),z=W[0],P=W[1];function D(e){!function(){var t=Object(p.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("https://cfb3-tcss450-labs-helloworld.herokuapp.com/calculateLoops",e).then(function(e){var t;u((t=e.data.loops,function(e){return e.feedbackLoops.foundLoops.push({loops:t,loopLength:e.feedbackLoops.options.loopLength,factor:e.feedbackLoops.options.factor,weightAlgorithm:e.feedbackLoops.options.weightAlgorithm,loopWeight:e.feedbackLoops.options.loopWeight}),Object(b.a)({},e,{feedbackLoops:{options:{loopLength:e.feedbackLoops.options.loopLength,factor:e.feedbackLoops.options.factor,weightAlgorithm:e.feedbackLoops.options.weightAlgorithm,loopCount:e.feedbackLoops.options.loopCount,isAnalyzing:!1,loopWeight:e.feedbackLoops.options.loopWeight,currentLoop:e.feedbackLoops.foundLoops.length-1},foundLoops:e.feedbackLoops.foundLoops}})}))}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()}Object(n.useEffect)(function(){""!==S&&(console.log("download the file: "+S),e.current.click(),URL.revokeObjectURL(S),R(""))},[S]);var T=function(){var e=Object(p.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(a=new FileReader).onload=function(){var e=Object(p.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=document.getElementById("fileInput").files.item(0).name.split("."),"csv"===(n=a[a.length-1])?(u(C(t.target.result)),k(!0),P("direct")):"pmf"===n&&(u(x(JSON.parse(t.target.result))),k(!0),P("direct"));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{className:"hidden",style:{display:"none"},download:i.projectName+".pmf",href:S,ref:e},"download it"),o.a.createElement("input",{ref:t,style:{display:"none"},type:"file",id:"fileInput",onChange:function(e){return T(e)},accept:".csv, .pmf"}),o.a.createElement(d.a,{collapseOnSelect:!0,bg:"light",expand:"xl",sticky:"top",style:{paddingLeft:"1em"}},o.a.createElement(d.a.Brand,null,o.a.createElement("i",{className:"bi bi-mortarboard",style:{paddingRight:".5em"}}),"UWT-SET PFMS"),o.a.createElement(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),o.a.createElement(d.a.Collapse,{id:"responsive-navbar-nav"},o.a.createElement(f.a,{className:"mr-auto",justify:!0,variant:"tabs",activeKey:z,onSelect:function(e){return P(e)}},o.a.createElement(h.NavDropdownMenu,{title:"Project",id:"collapsible-nav-dropdown"},o.a.createElement(h.DropdownSubmenu,{title:"Load",id:"collapsible-nav-dropdown-sub-load"},o.a.createElement(g.a.Item,{onClick:function(){t.current.click()}},"From File"),o.a.createElement(g.a.Item,{eventKey:"loadserver",disabled:"false"},"From Server")),o.a.createElement(h.DropdownSubmenu,{title:"Save",id:"collapsible-nav-dropdown-sub-save"},o.a.createElement(g.a.Item,{onClick:function(){var e=JSON.stringify(function(e){return{projectName:e.projectName,projectVersion:e.projectVersion,factorNames:e.factorNames,originalMatrix:e.originalMatrix,direct:{matrix:e.direct.matrix},indirect:{indirectN:e.indirect.indirectN},feedbackLoops:{options:{loopLength:e.feedbackLoops.options.loopLength,factor:e.feedbackLoops.options.factor,weightAlgorithm:e.feedbackLoops.options.weightAlgorithm,loopCount:e.feedbackLoops.options.loopCount,loopWeight:e.feedbackLoops.options.loopWeight,currentLoop:e.feedbackLoops.options.currentLoop},foundLoops:e.feedbackLoops.foundLoops}}}(i),null,4),t=new Blob([e]);R(URL.createObjectURL(t))}},"To File"),o.a.createElement(g.a.Item,{eventKey:"saveserver",disabled:"false"},"To Server")),o.a.createElement(g.a.Item,{eventKey:"create",disabled:"false"},"Create")),o.a.createElement(g.a,{title:"Matrix",disabled:!y,id:"basic-nav-dropdown"},o.a.createElement(g.a.Item,{eventKey:"direct",disabled:!y},"Direct"),o.a.createElement(g.a.Item,{eventKey:"indirect",disabled:!y},"Indirect"),o.a.createElement(g.a.Item,{eventKey:"edit",disabled:!y},"Edit")),o.a.createElement(g.a,{title:"Information",disabled:!y,id:"basic-nav-dropdown"},o.a.createElement(g.a.Item,{eventKey:"eigen",disabled:!y},"Eigen"),o.a.createElement(g.a.Item,{eventKey:"influence",disabled:!y},"Influence"),o.a.createElement(g.a.Item,{eventKey:"all",disabled:!y},"All")),o.a.createElement(g.a,{title:"Analyze",disabled:!y,id:"basic-nav-dropdown"},o.a.createElement(g.a.Item,{eventKey:"fbloops",disabled:!y},"Feedback Loops"),o.a.createElement(g.a.Item,{eventKey:"cld",disabled:!y},"Causal Loop Diagram"),o.a.createElement(g.a.Item,{eventKey:"other",disabled:!y},"Other Visualizations")),o.a.createElement(g.a,{title:"About",id:"basic-nav-dropdown"},o.a.createElement(g.a.Item,{eventKey:"aboutUs"},"About Us"),o.a.createElement(g.a.Item,{eventKey:"pfmTheory"},"About PFM"),o.a.createElement(g.a.Item,{eventKey:"graphTheory"},"Graph Theory"),o.a.createElement(g.a.Item,{eventKey:"glossary"},"Glossary")),o.a.createElement(f.a.Link,{eventKey:"settings"},o.a.createElement("i",{className:"bi bi-gear-fill "}))))),o.a.createElement("div",null,function(e){switch(e){case"home":return o.a.createElement(Y,{matrix:i,setProject:u});case"loadfile":return o.a.createElement(F,{matrix:i,setProject:u,setNav:function(){return P("direct")},setLoaded:k});case"direct":return o.a.createElement(K,{project:i,setProject:u,settings:w});case"indirect":return o.a.createElement(U,{project:i,setProject:u,settings:w});case"edit":return o.a.createElement(We,{project:i,setProject:u,settings:w});case"eigen":return o.a.createElement(G,{project:i,setProject:u,settings:w});case"influence":return o.a.createElement(ge,{project:i,setProject:u,settings:w});case"all":return o.a.createElement(Ne,{project:i,setProject:u,settings:w});case"fbloops":return o.a.createElement(Ge,{project:i,setProject:u,settings:w,requestLoops:D});case"cld":return o.a.createElement(_,{pagename:"Causal Loop Diagram"});case"other":return o.a.createElement(_,{pagename:"Other Visualizations"});case"settings":return o.a.createElement(je,{project:i,setProject:u,settings:w,setSettings:O});case"aboutUs":return o.a.createElement(_,{pagename:"We made this"});case"pfmTheory":return o.a.createElement(_,{pagename:"Civil Engineering Speak"});case"graphTheory":return o.a.createElement(_,{pagename:"Computer Science Speak"});case"glossary":return o.a.createElement(_,{pagename:"Define these terms!?!?"});default:return}}(z)))};c.a.render(o.a.createElement(_e,null),document.getElementById("root"))},72:function(e,t,a){"use strict";a.r(t),a.d(t,"Colors",function(){return c}),a.d(t,"findMaxMin",function(){return l}),a.d(t,"calculateColor",function(){return i}),a.d(t,"calculateTextColor",function(){return s}),a.d(t,"heatMapNoColor",function(){return p}),a.d(t,"heatMapBlues",function(){return u}),a.d(t,"heatMapReds",function(){return m}),a.d(t,"heatMapGreens",function(){return d}),a.d(t,"getComplement",function(){return f}),a.d(t,"hslToString",function(){return g}),a.d(t,"calculateGradient",function(){return h}),a.d(t,"heatmaps",function(){return b});var n=a(7),o=a(387),r=function(e){return Object.freeze({toString:function(){return e}})},c=Object.freeze({PRIMARY:r("#4b2e83"),SECONDARY:r("#b7a57a"),LIGHT:r("white"),DARK:r("black"),RED:r("red"),BLUE:r("blue")});function l(e,t){var a=e.map(function(e){return t(e)}).filter(function(e){return 0!==e});return{min:Math.min.apply(null,a),max:Math.max.apply(null,a)}}function i(e,t){if(0===e)return{red:0,green:0,blue:0};var a=-1*t.min,n=t.max-t.min,o=(e+a)%(n+1)/(n+1),r=0,c=0,l=0;return 0<=o&&o<=.125?l=4*o+.5:.125<=o&&o<=.375?(c=4*o-.5,l=1):.375<=o&&o<=.625?(r=4*o-1.5,c=1,l=-4*o+2.5):.625<=o&&o<=.875?(r=1,c=-4*o+3.5):r=.875<=o&&o<=1?-4*o+4.5:c=l=1,{red:r*=255,green:c*=255,blue:l*=255}}function s(e){return 1-(.299*e.red+.587*e.green+.114*e.blue)/255<.5?c.DARK:c.LIGHT}function p(e,t,a){return 0===e?{h:0,s:1,l:0}:{h:0,s:1,l:1}}function u(e,t,a){if(0===e)return{h:0,s:1,l:0};if(t===a)return{h:250/360,s:.5,l:.75};var n=(e-t)/Math.abs(a-t),o={h:0,s:.5,l:.75};return o.h=(60*Math.abs(n)+190)/360,o}function m(e,t,a){if(0===e)return{h:0,s:1,l:0};if(t===a)return{h:1/360,s:.85,l:.7};var n=Math.abs(a-t),o=(e-t)/n,r=25-n/2*25<0?25:25-n/2*25,c={h:0,s:.85,l:.7};return c.h=Math.abs(1-o)*(35+r)/360,c}function d(e,t,a){if(0===e)return{h:0,s:1,l:0};if(t===a)return{h:120/360,s:.75,l:.75};var n=(e-t)/Math.abs(a-t),o={h:0,s:.75,l:.75};return o.h=(60*Math.abs(n)+60)/360,o}function f(e){var t=Object(n.a)({},e);return o.fromRatio(t).isLight()?t.l=.05:t.l=.95,t}function g(e){return"hsl(".concat(360*e.h,", ").concat(100*e.s,"%, ").concat(100*e.l,"%)")}function h(e){var t=o.fromRatio(e).toHexString(),a=o.fromRatio(e).lighten().lighten().lighten().toHexString();return"radial-gradient(circle, ".concat(a,", ").concat(t," 70%)")}var b=[{name:"Reds",colorClass:"danger",func:m},{name:"Blues",colorClass:"primary",func:u},{name:"Greens",colorClass:"success",func:d},{name:"No Color",colorClass:"secondary",func:p}]}},[[231,2,1]]]);
//# sourceMappingURL=main.f9032fbd.chunk.js.map